
import java.sql.*;

public class Demo {

    public static void main(String args[]) {
        String query = "SELECT * FROM author";
        String url = "jdbc:mysql://localhost:3306/bookstore";
        String username = "root";
        String password = "pass123";

        try {
            // Load MySQL JDBC Driver
            Class.forName("com.mysql.cj.jdbc.Driver");
            System.out.println("Driver Loaded Successfully");

            // Establish connection
            Connection con = DriverManager.getConnection(url, username, password);
            System.out.println("Connection Established");

            // Create statement and execute query
            Statement st = con.createStatement();
            ResultSet rs = st.executeQuery(query);

            // Iterate through results
            while (rs.next()) {
                String id = rs.getString("author_id");
                String name = rs.getString("name");
                System.out.println(id + " - " + name);
            }

            // Close resources
            rs.close();
            st.close();
            con.close();

        } catch (ClassNotFoundException e) {
            System.err.println("MySQL JDBC Driver not found!");
            e.printStackTrace();
        } catch (SQLException e) {
            System.err.println("Database Error: " + e.getMessage());
            e.printStackTrace();
        }
    }
}

-------------------------------------------------------------------------------------------



import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import java.sql.*;

public class Sample extends JFrame {

    // Swing components
    private JTextField idField, nameField, nationalityField;
    private JButton insertButton;
    private JLabel statusLabel;

    public Sample() {
        setTitle("Add Author");
        setSize(400, 250);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setLocationRelativeTo(null);
        setLayout(new GridLayout(5, 2, 10, 10));

        // Labels and text fields
        add(new JLabel("Author ID:"));
        idField = new JTextField();
        add(idField);

        add(new JLabel("Author Name:"));
        nameField = new JTextField();
        add(nameField);

        add(new JLabel("Nationality:"));
        nationalityField = new JTextField();
        add(nationalityField);

        // Insert button
        insertButton = new JButton("Insert Author");
        add(insertButton);

        // Status label
        statusLabel = new JLabel("");
        add(statusLabel);

        // Button action
        insertButton.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                insertAuthor();
            }
        });

        setVisible(true);
    }

    private void insertAuthor() {
        try {
            int id = Integer.parseInt(idField.getText());
            String name = nameField.getText();
            String nationality = nationalityField.getText();

            String query = "INSERT INTO author(author_id, name, nationality) VALUES (?, ?, ?)";
            String url = "jdbc:mysql://localhost:3306/bookstore";
            String username = "root";
            String password = "pass123";

            Connection con = DriverManager.getConnection(url, username, password);
            PreparedStatement st = con.prepareStatement(query);

            st.setInt(1, id);
            st.setString(2, name);
            st.setString(3, nationality);

            int rows = st.executeUpdate();
            if (rows > 0) {
                statusLabel.setText("Author inserted successfully!");
            } else {
                statusLabel.setText("Insert failed.");
            }

            st.close();
            con.close();
        } catch (NumberFormatException nfe) {
            statusLabel.setText("Invalid ID!");
        } catch (SQLException se) {
            statusLabel.setText("Database Error: " + se.getMessage());
        }
    }

    public static void main(String[] args) {
        try {
            Class.forName("com.mysql.cj.jdbc.Driver");
        } catch (ClassNotFoundException e) {
            System.err.println("MySQL JDBC Driver not found!");
            e.printStackTrace();
            return;
        }

        new Sample();
    }
}
